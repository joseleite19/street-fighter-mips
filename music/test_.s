.data

CONT:		.word 155
INIT:		.word -3
NOTAS:		.word 60, 63, 67, 65, 62, 58, 56, 60, 63, 62, 58, 55, 60, 63, 67, 65, 62, 58, 68, 60, 62, 63, 65, 67, 67, 65, 65, 63, 65, 63, 62, 60, 62, 63, 62, 63, 65, 63, 65, 67, 67, 67, 70, 71, 60, 62, 63, 65, 67, 67, 65, 65, 63, 65, 63, 62, 60, 62, 63, 62, 60, 63, 67, 65, 63, 62, 62, 58, 60, 68, 67, 67, 65, 67, 65, 65, 58, 58, 58, 70, 68, 67, 65, 63, 60, 62, 63, 62, 60, 63, 62, 60, 65, 63, 62, 65, 58, 58, 58, 59, 60, 62, 63, 65, 67, 67, 65, 67, 65, 63, 62, 60, 60, 67, 62, 63, 65, 65, 65, 70, 68, 67, 67, 65, 67, 63, 65, 67, 63, 65, 67, 67, 65, 67, 65, 63, 62, 60, 60, 67, 62, 63, 65, 65, 62, 63, 65, 65, 68, 67, 65, 67, 72, 72, 72
DURACAO:	.word 96, 96, 96, 192, 96, 96, 192, 96, 96, 192, 96, 192, 96, 96, 96, 192, 96, 96, 864, 192, 96, 96, 96, 768, 192, 96, 96, 96, 96, 192, 480, 96, 96, 576, 96, 96, 576, 96, 96, 192, 384, 96, 96, 384, 192, 96, 96, 96, 768, 192, 96, 96, 96, 96, 192, 480, 96, 96, 192, 96, 96, 288, 192, 192, 192, 96, 96, 96, 768, 192, 96, 96, 96, 192, 96, 192, 96, 96, 96, 192, 192, 192, 96, 480, 96, 96, 192, 96, 96, 192, 96, 96, 192, 96, 96, 192, 96, 96, 96, 288, 288, 768, 96, 96, 96, 576, 96, 192, 192, 192, 192, 192, 96, 1056, 96, 96, 96, 576, 96, 192, 192, 96, 96, 96, 480, 96, 96, 672, 96, 96, 96, 576, 96, 192, 192, 192, 192, 192, 96, 1056, 96, 96, 96, 480, 96, 96, 96, 672, 192, 192, 192, 768, 96, 96, 768
DELAY:		.word 144, 96, 96, 96, 192, 96, 96, 192, 96, 96, 192, 96, 192, 96, 96, 96, 192, 96, 96, 1152, 192, 96, 96, 96, 1056, 192, 96, 96, 96, 96, 192, 960, 96, 96, 576, 96, 96, 576, 96, 96, 192, 384, 96, 96, 384, 192, 96, 96, 96, 1056, 192, 96, 96, 96, 96, 192, 960, 96, 96, 192, 96, 96, 288, 192, 192, 192, 96, 96, 96, 1920, 192, 96, 96, 96, 192, 96, 192, 96, 96, 96, 192, 192, 192, 96, 576, 96, 96, 192, 96, 96, 192, 96, 96, 192, 96, 96, 192, 96, 96, 96, 288, 288, 768, 96, 96, 96, 576, 96, 192, 192, 192, 192, 192, 96, 1056, 96, 96, 96, 576, 96, 192, 192, 96, 96, 96, 576, 96, 96, 672, 96, 96, 96, 576, 96, 192, 192, 192, 192, 192, 96, 1056, 96, 96, 96, 480, 96, 96, 96, 864, 192, 192, 192, 768, 288, 288
VOLUME:		.word 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50
INSTRUMENTO:	.word 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24

.text

j MAIN

.macro	sound(%base_note, %note, %duration, %instrument, %volume)
	lw $a0, 0(%note)
	add $a0, $a0, %base_note
	lw $a1, 0(%duration)
	lw $a2, 0(%instrument)
	li $a3, 150
	jal SOUND
.end_macro
SOUND:
	mul $a1, $a1, 15
	div $a1, $a1, 5
	li $v0, 31	#syscall for midi
	syscall
	jr $ra

.macro	sleep(%duration)
	lw $a0, 0(%duration)
	jal SLEEP
.end_macro
SLEEP:
	mul $a0, $a0, 9
	div $a0, $a0, 5
	li $v0, 32	#syscall for sleep
	syscall
	jr $ra

MAIN:
	lw $s0, CONT		#quant de notas
	lw $s1, INIT		#nota inicial
	la $s2, NOTAS		#notas
	la $s3, DURACAO		#duracoes
	la $s4, DELAY		#delay
	la $s5, VOLUME		#volume
	la $s6, INSTRUMENTO	#instrumento
LOOP1:
	sound($s1,$s2,$s3,$s6,$s5)
	sleep($s4)

	beqz $s0, DEPOIS

	addiu $s0, $s0, -1
	addiu $s2, $s2, 4
	addiu $s3, $s3, 4
	addiu $s4, $s4, 4
	addiu $s5, $s5, 4
	#addiu $s6, $s6, 4

	j LOOP1
DEPOIS:	
